# 4.2.9 /api/v1/ai/uplift_model
+> Nota: traducciÃ³n generada automÃ¡ticamente desde el inglÃ©s; revisar antes de publicar.


## Individual-level causal lift scoring

## PropÃ³sito

Identify whoâ€™s truly persuadable (and who isnâ€™t) before you send your next campaign.
The endpoint ingests treatment / control outcomes and returns an incremental-lift (uplift) score for every single customer plus decile roll-ups.
Typical usage: mail only the topâ€2 uplift deciles and hold out the bottom two, slashing CAC 25-40 % while keeping the same conversions.

---

### Headers `X-Customer-Api-Id`, `X-Secret`

```yml
POST  https://api-prod.abintel.ai/api/v1/ai/uplift_model
Headers
  X-Customer-Api-Id: <uuid>
  X-Secret:          <secret>
  Content-Type:      application/json
```

  ---

### Business Value

| **Pain-point**                        | **How the endpoint helps**                                                                | **Typical lift**                               |
| ------------------------------------- | ----------------------------------------------------------------------------------------- | ---------------------------------------------- |
| Spray-and-pray campaigns waste budget | Scores â€œtrue-positivesâ€ (= will buy because of the promo) vs. sure-things & never-buyers. | â€“30 % send volume at flat conversions          |
| Costly hold-outs                      | Automatically produces control deciles (negative uplift) for statistically sound tests.   | +5-8 pp improvement in net incremental revenue |
| Complex in-house causal ML            | Micro-trains a model in < 30 s; no infra to maintain.                                     | Deploy in 1 sprint                             |

---

### Request Body â€“ Every Field

| **JSON path** | **Type / Range** | **Req.?** | **Meaning**                                                            | **Notes**                  |
| ------------- | ---------------- | --------- | ---------------------------------------------------------------------- | -------------------------- |
| contamination | 0 â€¦ 1            | optional  | Share of control users who were accidentally exposed to treatment.     | Default 0.0                |
| rows[]       | array<object>    | yes       | Min 200 rows. Each row needs â€¦                                         |                            |
| â†³ id          | string           | yes       | Customer identifier.                                                   | Returned verbatim.         |
| â†³ treatment   | 0 \| 1           | yes       | 1 = received campaign/exposure                                         | Binary only.               |
| â†³ outcome     | 0 \| 1           | yes       | 1 = converted / purchased                                              | Define your success event. |
| â†³ features.* | number \| string | yes       | Any mix of numeric & categorical predictors (age, country, RFM, etc.). | Auto one-hot / scaling.    |

* Data sufficiency rule â€“ at least 200 rows and > 0 variants of both treatment & outcome â†’ else request is rejected.

```SQL
{
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  ğŸ¯  INDIVIDUAL-LEVEL UPLIFT SCORING  â€“  POST  /api/uplift_model
  //  ---------------------------------------------------------------------------
  //  What this route does
  //  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  â€¢ Accepts **treatment / control** data and estimates the incremental
  //    impact (â€œupliftâ€, i.e. *causal lift*) of a campaign **for every customer**.
  //  â€¢ Internals:
  //        â€“ If the library **causalml** is available the endpoint runs an
  //          `UpliftRandomForestClassifier` (KL criterion).
  //        â€“ Otherwise it falls back to a **T-Learner**: two separate
  //          Gradient-Boosting Models (one on treated rows, one on control).
  //  â€¢ Requires **â‰¥ 200 rows** for a stable model (binary *treatment* & *outcome*).
  //
  //  Field-by-field specification
  //  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  â€¢ rows[] (array)          :  Each object **must** contain:
  //        â€“ id          (string) : Unique customer ID.
  //        â€“ treatment    (0|1)   : 1 = received campaign / was exposed.
  //        â€“ outcome      (0|1)   : 1 = converted / purchased / subscribed.
  //        â€“ features     (object): Arbitrary numeric or categorical fields
  //                                  (age, country, prior_purchases, â€¦).
  //                                  Categorical keys are one-hot-encoded auto-
  //                                  matically â€“ you can mix types freely.
  //
  //  What the response means
  //  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  â€¢ `average_treatment_effect` â€“ global ATE across all rows (positive = good).
  //  â€¢ `decile_summary[]`         â€“ mean uplift & #customers in each decile
  //                                 (1 = lowest, 10 = highest uplift).
  //  â€¢ `details[]`                â€“ per-customer uplift score and assigned decile
  //                                 so you can pick top-decile customers for the
  //                                 next wave and hold out the bottom decile.
  //
  //  Practical reading
  //  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  â€¢ High positive **uplift_score** â†’ customer is MORE likely to convert if
  //    targeted â€“ prioritise for campaigns.
  //  â€¢ Negative score â†’ persuasion-proof segment (or even net-negative) â€“ skip
  //    or A/B-test cautiously.
  //
  //  ---------------------------------------------------------------------------
  //  â†“  Stub payload â€“ paste â‰¥ 200 real rows in â€œrows[]â€ before sending
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  "contamination": 0.15,
  "rows": [
    { "id": "C-001", "treatment": 1, "outcome": 1, "features": { "age": 34, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-002", "treatment": 0, "outcome": 0, "features": { "age": 27, "country": "US", "prior_purchases": 0 } },
    { "id": "C-003", "treatment": 1, "outcome": 1, "features": { "age": 42, "country": "UK", "prior_purchases": 3 } },
    { "id": "C-004", "treatment": 0, "outcome": 0, "features": { "age": 31, "country": "CA", "prior_purchases": 1 } },
    { "id": "C-005", "treatment": 1, "outcome": 0, "features": { "age": 29, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-006", "treatment": 0, "outcome": 0, "features": { "age": 50, "country": "US", "prior_purchases": 4 } },
    { "id": "C-007", "treatment": 1, "outcome": 1, "features": { "age": 38, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-008", "treatment": 0, "outcome": 1, "features": { "age": 24, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-009", "treatment": 1, "outcome": 0, "features": { "age": 46, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-010", "treatment": 0, "outcome": 0, "features": { "age": 35, "country": "US", "prior_purchases": 2 } },
    { "id": "C-011", "treatment": 1, "outcome": 1, "features": { "age": 33, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-012", "treatment": 0, "outcome": 1, "features": { "age": 28, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-013", "treatment": 1, "outcome": 1, "features": { "age": 41, "country": "US", "prior_purchases": 0 } },
    { "id": "C-014", "treatment": 0, "outcome": 0, "features": { "age": 37, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-015", "treatment": 1, "outcome": 0, "features": { "age": 26, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-016", "treatment": 0, "outcome": 0, "features": { "age": 52, "country": "US", "prior_purchases": 5 } },
    { "id": "C-017", "treatment": 1, "outcome": 1, "features": { "age": 45, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-018", "treatment": 0, "outcome": 1, "features": { "age": 30, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-019", "treatment": 1, "outcome": 0, "features": { "age": 39, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-020", "treatment": 0, "outcome": 0, "features": { "age": 47, "country": "US", "prior_purchases": 3 } },

    { "id": "C-021", "treatment": 1, "outcome": 1, "features": { "age": 36, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-022", "treatment": 0, "outcome": 0, "features": { "age": 28, "country": "US", "prior_purchases": 0 } },
    { "id": "C-023", "treatment": 1, "outcome": 1, "features": { "age": 40, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-024", "treatment": 0, "outcome": 0, "features": { "age": 34, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-025", "treatment": 1, "outcome": 0, "features": { "age": 27, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-026", "treatment": 0, "outcome": 0, "features": { "age": 53, "country": "US", "prior_purchases": 4 } },
    { "id": "C-027", "treatment": 1, "outcome": 1, "features": { "age": 44, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-028", "treatment": 0, "outcome": 1, "features": { "age": 25, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-029", "treatment": 1, "outcome": 0, "features": { "age": 48, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-030", "treatment": 0, "outcome": 0, "features": { "age": 36, "country": "US", "prior_purchases": 2 } },
    { "id": "C-031", "treatment": 1, "outcome": 1, "features": { "age": 32, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-032", "treatment": 0, "outcome": 1, "features": { "age": 29, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-033", "treatment": 1, "outcome": 1, "features": { "age": 43, "country": "US", "prior_purchases": 0 } },
    { "id": "C-034", "treatment": 0, "outcome": 0, "features": { "age": 38, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-035", "treatment": 1, "outcome": 0, "features": { "age": 26, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-036", "treatment": 0, "outcome": 0, "features": { "age": 54, "country": "US", "prior_purchases": 5 } },
    { "id": "C-037", "treatment": 1, "outcome": 1, "features": { "age": 46, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-038", "treatment": 0, "outcome": 1, "features": { "age": 31, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-039", "treatment": 1, "outcome": 0, "features": { "age": 40, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-040", "treatment": 0, "outcome": 0, "features": { "age": 48, "country": "US", "prior_purchases": 3 } },

    { "id": "C-041", "treatment": 1, "outcome": 1, "features": { "age": 35, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-042", "treatment": 0, "outcome": 0, "features": { "age": 27, "country": "US", "prior_purchases": 0 } },
    { "id": "C-043", "treatment": 1, "outcome": 1, "features": { "age": 41, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-044", "treatment": 0, "outcome": 0, "features": { "age": 33, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-045", "treatment": 1, "outcome": 0, "features": { "age": 28, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-046", "treatment": 0, "outcome": 0, "features": { "age": 55, "country": "US", "prior_purchases": 4 } },
    { "id": "C-047", "treatment": 1, "outcome": 1, "features": { "age": 47, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-048", "treatment": 0, "outcome": 1, "features": { "age": 26, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-049", "treatment": 1, "outcome": 0, "features": { "age": 49, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-050", "treatment": 0, "outcome": 0, "features": { "age": 37, "country": "US", "prior_purchases": 2 } },

    { "id": "C-051", "treatment": 1, "outcome": 1, "features": { "age": 30, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-052", "treatment": 0, "outcome": 0, "features": { "age": 41, "country": "US", "prior_purchases": 0 } },
    { "id": "C-053", "treatment": 1, "outcome": 1, "features": { "age": 37, "country": "CA", "prior_purchases": 4 } },
    { "id": "C-054", "treatment": 0, "outcome": 0, "features": { "age": 33, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-055", "treatment": 1, "outcome": 0, "features": { "age": 49, "country": "US", "prior_purchases": 3 } },
    { "id": "C-056", "treatment": 0, "outcome": 1, "features": { "age": 28, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-057", "treatment": 1, "outcome": 1, "features": { "age": 44, "country": "UK", "prior_purchases": 5 } },
    { "id": "C-058", "treatment": 0, "outcome": 0, "features": { "age": 39, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-059", "treatment": 1, "outcome": 1, "features": { "age": 32, "country": "US", "prior_purchases": 1 } },
    { "id": "C-060", "treatment": 0, "outcome": 0, "features": { "age": 45, "country": "BR", "prior_purchases": 3 } },

    { "id": "C-061", "treatment": 1, "outcome": 1, "features": { "age": 34, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-062", "treatment": 0, "outcome": 0, "features": { "age": 27, "country": "US", "prior_purchases": 0 } },
    { "id": "C-063", "treatment": 1, "outcome": 1, "features": { "age": 42, "country": "UK", "prior_purchases": 3 } },
    { "id": "C-064", "treatment": 0, "outcome": 0, "features": { "age": 31, "country": "CA", "prior_purchases": 1 } },
    { "id": "C-065", "treatment": 1, "outcome": 0, "features": { "age": 29, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-066", "treatment": 0, "outcome": 0, "features": { "age": 50, "country": "US", "prior_purchases": 4 } },
    { "id": "C-067", "treatment": 1, "outcome": 1, "features": { "age": 38, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-068", "treatment": 0, "outcome": 1, "features": { "age": 24, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-069", "treatment": 1, "outcome": 0, "features": { "age": 46, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-070", "treatment": 0, "outcome": 0, "features": { "age": 35, "country": "US", "prior_purchases": 2 } },

    { "id": "C-071", "treatment": 1, "outcome": 1, "features": { "age": 33, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-072", "treatment": 0, "outcome": 1, "features": { "age": 28, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-073", "treatment": 1, "outcome": 1, "features": { "age": 41, "country": "US", "prior_purchases": 0 } },
    { "id": "C-074", "treatment": 0, "outcome": 0, "features": { "age": 37, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-075", "treatment": 1, "outcome": 0, "features": { "age": 26, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-076", "treatment": 0, "outcome": 0, "features": { "age": 52, "country": "US", "prior_purchases": 5 } },
    { "id": "C-077", "treatment": 1, "outcome": 1, "features": { "age": 45, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-078", "treatment": 0, "outcome": 1, "features": { "age": 30, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-079", "treatment": 1, "outcome": 0, "features": { "age": 39, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-080", "treatment": 0, "outcome": 0, "features": { "age": 47, "country": "US", "prior_purchases": 3 } },

    { "id": "C-081", "treatment": 1, "outcome": 1, "features": { "age": 36, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-082", "treatment": 0, "outcome": 0, "features": { "age": 28, "country": "US", "prior_purchases": 0 } },
    { "id": "C-083", "treatment": 1, "outcome": 1, "features": { "age": 40, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-084", "treatment": 0, "outcome": 0, "features": { "age": 34, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-085", "treatment": 1, "outcome": 0, "features": { "age": 27, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-086", "treatment": 0, "outcome": 0, "features": { "age": 53, "country": "US", "prior_purchases": 4 } },
    { "id": "C-087", "treatment": 1, "outcome": 1, "features": { "age": 44, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-088", "treatment": 0, "outcome": 1, "features": { "age": 25, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-089", "treatment": 1, "outcome": 0, "features": { "age": 48, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-090", "treatment": 0, "outcome": 0, "features": { "age": 36, "country": "US", "prior_purchases": 2 } },

    { "id": "C-091", "treatment": 1, "outcome": 1, "features": { "age": 32, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-092", "treatment": 0, "outcome": 1, "features": { "age": 29, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-093", "treatment": 1, "outcome": 1, "features": { "age": 43, "country": "US", "prior_purchases": 0 } },
    { "id": "C-094", "treatment": 0, "outcome": 0, "features": { "age": 38, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-095", "treatment": 1, "outcome": 0, "features": { "age": 26, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-096", "treatment": 0, "outcome": 0, "features": { "age": 54, "country": "US", "prior_purchases": 5 } },
    { "id": "C-097", "treatment": 1, "outcome": 1, "features": { "age": 46, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-098", "treatment": 0, "outcome": 1, "features": { "age": 31, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-099", "treatment": 1, "outcome": 0, "features": { "age": 40, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-100", "treatment": 0, "outcome": 0, "features": { "age": 48, "country": "US", "prior_purchases": 3 } },

    { "id": "C-101", "treatment": 1, "outcome": 1, "features": { "age": 35, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-102", "treatment": 0, "outcome": 0, "features": { "age": 27, "country": "US", "prior_purchases": 0 } },
    { "id": "C-103", "treatment": 1, "outcome": 1, "features": { "age": 41, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-104", "treatment": 0, "outcome": 0, "features": { "age": 33, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-105", "treatment": 1, "outcome": 0, "features": { "age": 28, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-106", "treatment": 0, "outcome": 0, "features": { "age": 55, "country": "US", "prior_purchases": 4 } },
    { "id": "C-107", "treatment": 1, "outcome": 1, "features": { "age": 47, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-108", "treatment": 0, "outcome": 1, "features": { "age": 26, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-109", "treatment": 1, "outcome": 0, "features": { "age": 49, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-110", "treatment": 0, "outcome": 0, "features": { "age": 37, "country": "US", "prior_purchases": 2 } },

    { "id": "C-111", "treatment": 1, "outcome": 1, "features": { "age": 30, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-112", "treatment": 0, "outcome": 0, "features": { "age": 41, "country": "US", "prior_purchases": 0 } },
    { "id": "C-113", "treatment": 1, "outcome": 1, "features": { "age": 37, "country": "CA", "prior_purchases": 4 } },
    { "id": "C-114", "treatment": 0, "outcome": 0, "features": { "age": 33, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-115", "treatment": 1, "outcome": 0, "features": { "age": 49, "country": "US", "prior_purchases": 3 } },
    { "id": "C-116", "treatment": 0, "outcome": 1, "features": { "age": 28, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-117", "treatment": 1, "outcome": 1, "features": { "age": 44, "country": "UK", "prior_purchases": 5 } },
    { "id": "C-118", "treatment": 0, "outcome": 0, "features": { "age": 39, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-119", "treatment": 1, "outcome": 1, "features": { "age": 32, "country": "US", "prior_purchases": 1 } },
    { "id": "C-120", "treatment": 0, "outcome": 0, "features": { "age": 45, "country": "BR", "prior_purchases": 3 } },

    { "id": "C-121", "treatment": 1, "outcome": 1, "features": { "age": 34, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-122", "treatment": 0, "outcome": 0, "features": { "age": 27, "country": "US", "prior_purchases": 0 } },
    { "id": "C-123", "treatment": 1, "outcome": 1, "features": { "age": 42, "country": "UK", "prior_purchases": 3 } },
    { "id": "C-124", "treatment": 0, "outcome": 0, "features": { "age": 31, "country": "CA", "prior_purchases": 1 } },
    { "id": "C-125", "treatment": 1, "outcome": 0, "features": { "age": 29, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-126", "treatment": 0, "outcome": 0, "features": { "age": 50, "country": "US", "prior_purchases": 4 } },
    { "id": "C-127", "treatment": 1, "outcome": 1, "features": { "age": 38, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-128", "treatment": 0, "outcome": 1, "features": { "age": 24, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-129", "treatment": 1, "outcome": 0, "features": { "age": 46, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-130", "treatment": 0, "outcome": 0, "features": { "age": 35, "country": "US", "prior_purchases": 2 } },

    { "id": "C-131", "treatment": 1, "outcome": 1, "features": { "age": 33, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-132", "treatment": 0, "outcome": 1, "features": { "age": 28, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-133", "treatment": 1, "outcome": 1, "features": { "age": 41, "country": "US", "prior_purchases": 0 } },
    { "id": "C-134", "treatment": 0, "outcome": 0, "features": { "age": 37, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-135", "treatment": 1, "outcome": 0, "features": { "age": 26, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-136", "treatment": 0, "outcome": 0, "features": { "age": 54, "country": "US", "prior_purchases": 5 } },
    { "id": "C-137", "treatment": 1, "outcome": 1, "features": { "age": 46, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-138", "treatment": 0, "outcome": 1, "features": { "age": 31, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-139", "treatment": 1, "outcome": 0, "features": { "age": 40, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-140", "treatment": 0, "outcome": 0, "features": { "age": 48, "country": "US", "prior_purchases": 3 } },

    { "id": "C-141", "treatment": 1, "outcome": 1, "features": { "age": 35, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-142", "treatment": 0, "outcome": 0, "features": { "age": 27, "country": "US", "prior_purchases": 0 } },
    { "id": "C-143", "treatment": 1, "outcome": 1, "features": { "age": 41, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-144", "treatment": 0, "outcome": 0, "features": { "age": 33, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-145", "treatment": 1, "outcome": 0, "features": { "age": 28, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-146", "treatment": 0, "outcome": 0, "features": { "age": 55, "country": "US", "prior_purchases": 4 } },
    { "id": "C-147", "treatment": 1, "outcome": 1, "features": { "age": 47, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-148", "treatment": 0, "outcome": 1, "features": { "age": 26, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-149", "treatment": 1, "outcome": 0, "features": { "age": 49, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-150", "treatment": 0, "outcome": 0, "features": { "age": 37, "country": "US", "prior_purchases": 2 } },

    { "id": "C-151", "treatment": 1, "outcome": 1, "features": { "age": 30, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-152", "treatment": 0, "outcome": 0, "features": { "age": 41, "country": "US", "prior_purchases": 0 } },
    { "id": "C-153", "treatment": 1, "outcome": 1, "features": { "age": 37, "country": "CA", "prior_purchases": 4 } },
    { "id": "C-154", "treatment": 0, "outcome": 0, "features": { "age": 33, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-155", "treatment": 1, "outcome": 0, "features": { "age": 49, "country": "US", "prior_purchases": 3 } },
    { "id": "C-156", "treatment": 0, "outcome": 1, "features": { "age": 28, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-157", "treatment": 1, "outcome": 1, "features": { "age": 44, "country": "UK", "prior_purchases": 5 } },
    { "id": "C-158", "treatment": 0, "outcome": 0, "features": { "age": 39, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-159", "treatment": 1, "outcome": 1, "features": { "age": 32, "country": "US", "prior_purchases": 1 } },
    { "id": "C-160", "treatment": 0, "outcome": 0, "features": { "age": 45, "country": "BR", "prior_purchases": 3 } },

    { "id": "C-161", "treatment": 1, "outcome": 1, "features": { "age": 34, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-162", "treatment": 0, "outcome": 0, "features": { "age": 27, "country": "US", "prior_purchases": 0 } },
    { "id": "C-163", "treatment": 1, "outcome": 1, "features": { "age": 42, "country": "UK", "prior_purchases": 3 } },
    { "id": "C-164", "treatment": 0, "outcome": 0, "features": { "age": 31, "country": "CA", "prior_purchases": 1 } },
    { "id": "C-165", "treatment": 1, "outcome": 0, "features": { "age": 29, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-166", "treatment": 0, "outcome": 0, "features": { "age": 50, "country": "US", "prior_purchases": 4 } },
    { "id": "C-167", "treatment": 1, "outcome": 1, "features": { "age": 38, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-168", "treatment": 0, "outcome": 1, "features": { "age": 24, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-169", "treatment": 1, "outcome": 0, "features": { "age": 46, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-170", "treatment": 0, "outcome": 0, "features": { "age": 35, "country": "US", "prior_purchases": 2 } },

    { "id": "C-171", "treatment": 1, "outcome": 1, "features": { "age": 33, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-172", "treatment": 0, "outcome": 1, "features": { "age": 28, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-173", "treatment": 1, "outcome": 1, "features": { "age": 41, "country": "US", "prior_purchases": 0 } },
    { "id": "C-174", "treatment": 0, "outcome": 0, "features": { "age": 37, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-175", "treatment": 1, "outcome": 0, "features": { "age": 26, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-176", "treatment": 0, "outcome": 0, "features": { "age": 54, "country": "US", "prior_purchases": 5 } },
    { "id": "C-177", "treatment": 1, "outcome": 1, "features": { "age": 46, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-178", "treatment": 0, "outcome": 1, "features": { "age": 31, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-179", "treatment": 1, "outcome": 0, "features": { "age": 40, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-180", "treatment": 0, "outcome": 0, "features": { "age": 48, "country": "US", "prior_purchases": 3 } },

    { "id": "C-181", "treatment": 1, "outcome": 1, "features": { "age": 35, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-182", "treatment": 0, "outcome": 0, "features": { "age": 27, "country": "US", "prior_purchases": 0 } },
    { "id": "C-183", "treatment": 1, "outcome": 1, "features": { "age": 41, "country": "CA", "prior_purchases": 3 } },
    { "id": "C-184", "treatment": 0, "outcome": 0, "features": { "age": 33, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-185", "treatment": 1, "outcome": 0, "features": { "age": 28, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-186", "treatment": 0, "outcome": 0, "features": { "age": 55, "country": "US", "prior_purchases": 4 } },
    { "id": "C-187", "treatment": 1, "outcome": 1, "features": { "age": 47, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-188", "treatment": 0, "outcome": 1, "features": { "age": 26, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-189", "treatment": 1, "outcome": 0, "features": { "age": 49, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-190", "treatment": 0, "outcome": 0, "features": { "age": 37, "country": "US", "prior_purchases": 2 } },

    { "id": "C-191", "treatment": 1, "outcome": 1, "features": { "age": 30, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-192", "treatment": 0, "outcome": 0, "features": { "age": 41, "country": "US", "prior_purchases": 0 } },
    { "id": "C-193", "treatment": 1, "outcome": 1, "features": { "age": 37, "country": "CA", "prior_purchases": 4 } },
    { "id": "C-194", "treatment": 0, "outcome": 0, "features": { "age": 33, "country": "UK", "prior_purchases": 1 } },
    { "id": "C-195", "treatment": 1, "outcome": 0, "features": { "age": 49, "country": "US", "prior_purchases": 3 } },
    { "id": "C-196", "treatment": 0, "outcome": 1, "features": { "age": 28, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-197", "treatment": 1, "outcome": 1, "features": { "age": 44, "country": "UK", "prior_purchases": 5 } },
    { "id": "C-198", "treatment": 0, "outcome": 0, "features": { "age": 39, "country": "CA", "prior_purchases": 2 } },
    { "id": "C-199", "treatment": 1, "outcome": 1, "features": { "age": 32, "country": "US", "prior_purchases": 1 } },
    { "id": "C-200", "treatment": 0, "outcome": 0, "features": { "age": 45, "country": "BR", "prior_purchases": 3 } },

    { "id": "C-201", "treatment": 1, "outcome": 1, "features": { "age": 36, "country": "BR", "prior_purchases": 2 } },
    { "id": "C-202", "treatment": 0, "outcome": 0, "features": { "age": 29, "country": "US", "prior_purchases": 0 } },
    { "id": "C-203", "treatment": 1, "outcome": 1, "features": { "age": 43, "country": "UK", "prior_purchases": 3 } },
    { "id": "C-204", "treatment": 0, "outcome": 0, "features": { "age": 31, "country": "CA", "prior_purchases": 1 } },
    { "id": "C-205", "treatment": 1, "outcome": 0, "features": { "age": 30, "country": "BR", "prior_purchases": 0 } },
    { "id": "C-206", "treatment": 0, "outcome": 0, "features": { "age": 52, "country": "US", "prior_purchases": 4 } },
    { "id": "C-207", "treatment": 1, "outcome": 1, "features": { "age": 38, "country": "UK", "prior_purchases": 2 } },
    { "id": "C-208", "treatment": 0, "outcome": 1, "features": { "age": 24, "country": "BR", "prior_purchases": 1 } },
    { "id": "C-209", "treatment": 1, "outcome": 0, "features": { "age": 47, "country": "CA", "prior_purchases": 5 } },
    { "id": "C-210", "treatment": 0, "outcome": 0, "features": { "age": 35, "country": "US", "prior_purchases": 2 } }
  ]
}
```

---

### What Happens Under the Hood

1. Pre-process â€“ handle contamination (re-weights control), one-hot categories, scale numerics.

2. Model selection

* If causalml lib present â–¶ï¸ UpliftRandomForestClassifier (KL criterion).

* Else T-Learner (two Gradient-Boosting trees).

3. Cross-validation Ã— 3 folds â†’ choose hyper-parameters with highest Qini uplift.

4. Score each row: P(outcome | treat) â€“ P(outcome | control) â†’ uplift_score.

5. Rank & bucket into ten equal-sized deciles.

6. Return global ATE, conversion rates, decile table & per-ID details. Average latency: < 40 s on 50 k rows (CPU).

---

### Resonse

```json
{
    "average_treatment_effect": 0.3857,
    "treatment_cr": 0.6381,
    "control_cr": 0.2571,
    "decile_summary": [
        {
            "decile": 1,
            "mean_uplift": -0.9986,
            "n_customers": 21
        },
        {
            "decile": 2,
            "mean_uplift": -0.2695,
            "n_customers": 21
        },
        {
            "decile": 3,
            "mean_uplift": 0.0006,
            "n_customers": 24
        },
        {
            "decile": 4,
            "mean_uplift": 0.0018,
            "n_customers": 18
        },
        {
            "decile": 5,
            "mean_uplift": 0.2048,
            "n_customers": 23
        },
        {
            "decile": 6,
            "mean_uplift": 0.9957,
            "n_customers": 19
        },
        {
            "decile": 7,
            "mean_uplift": 0.9988,
            "n_customers": 21
        },
        {
            "decile": 8,
            "mean_uplift": 0.9992,
            "n_customers": 21
        },
        {
            "decile": 9,
            "mean_uplift": 0.9998,
            "n_customers": 21
        },
        {
            "decile": 10,
            "mean_uplift": 0.9999,
            "n_customers": 21
        }
    ],
    "details": [
        {
            "id": "C-001",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-002",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-003",
            "uplift_score": 0.9913,
            "uplift_decile": 6
        },
        {
            "id": "C-004",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-005",
            "uplift_score": -0.9972,
            "uplift_decile": 2
        },
        {
            "id": "C-006",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-007",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-008",
            "uplift_score": 0.0014,
            "uplift_decile": 3
        },
        {
            "id": "C-009",
            "uplift_score": -0.0026,
            "uplift_decile": 2
        },
        {
            "id": "C-010",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-011",
            "uplift_score": 0.0017,
            "uplift_decile": 4
        },
        {
            "id": "C-012",
            "uplift_score": 0.0015,
            "uplift_decile": 4
        },
        {
            "id": "C-013",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-014",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-015",
            "uplift_score": -0.9985,
            "uplift_decile": 1
        },
        {
            "id": "C-016",
            "uplift_score": 0.1182,
            "uplift_decile": 5
        },
        {
            "id": "C-017",
            "uplift_score": 0.9991,
            "uplift_decile": 7
        },
        {
            "id": "C-018",
            "uplift_score": 0.0018,
            "uplift_decile": 4
        },
        {
            "id": "C-019",
            "uplift_score": -0.82,
            "uplift_decile": 2
        },
        {
            "id": "C-020",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-021",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-022",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-023",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-024",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-025",
            "uplift_score": -0.9983,
            "uplift_decile": 1
        },
        {
            "id": "C-026",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-027",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-028",
            "uplift_score": 0.0017,
            "uplift_decile": 4
        },
        {
            "id": "C-029",
            "uplift_score": -0.0026,
            "uplift_decile": 2
        },
        {
            "id": "C-030",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-031",
            "uplift_score": 0.0017,
            "uplift_decile": 4
        },
        {
            "id": "C-032",
            "uplift_score": 0.0026,
            "uplift_decile": 5
        },
        {
            "id": "C-033",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-034",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-035",
            "uplift_score": -0.9985,
            "uplift_decile": 1
        },
        {
            "id": "C-036",
            "uplift_score": 0.1182,
            "uplift_decile": 5
        },
        {
            "id": "C-037",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-038",
            "uplift_score": 0.0025,
            "uplift_decile": 4
        },
        {
            "id": "C-039",
            "uplift_score": -0.9983,
            "uplift_decile": 1
        },
        {
            "id": "C-040",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-041",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-042",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-043",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-044",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-045",
            "uplift_score": -0.999,
            "uplift_decile": 1
        },
        {
            "id": "C-046",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-047",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-048",
            "uplift_score": 0.0015,
            "uplift_decile": 3
        },
        {
            "id": "C-049",
            "uplift_score": -0.0027,
            "uplift_decile": 2
        },
        {
            "id": "C-050",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-051",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-052",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-053",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-054",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-055",
            "uplift_score": -0.0001,
            "uplift_decile": 2
        },
        {
            "id": "C-056",
            "uplift_score": -0.999,
            "uplift_decile": 1
        },
        {
            "id": "C-057",
            "uplift_score": 0.9912,
            "uplift_decile": 5
        },
        {
            "id": "C-058",
            "uplift_score": 0.9984,
            "uplift_decile": 7
        },
        {
            "id": "C-059",
            "uplift_score": 0.9999,
            "uplift_decile": 10
        },
        {
            "id": "C-060",
            "uplift_score": 0.9984,
            "uplift_decile": 7
        },
        {
            "id": "C-061",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-062",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-063",
            "uplift_score": 0.9913,
            "uplift_decile": 6
        },
        {
            "id": "C-064",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-065",
            "uplift_score": -0.9972,
            "uplift_decile": 2
        },
        {
            "id": "C-066",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-067",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-068",
            "uplift_score": 0.0014,
            "uplift_decile": 3
        },
        {
            "id": "C-069",
            "uplift_score": -0.0026,
            "uplift_decile": 2
        },
        {
            "id": "C-070",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-071",
            "uplift_score": 0.0017,
            "uplift_decile": 4
        },
        {
            "id": "C-072",
            "uplift_score": 0.0015,
            "uplift_decile": 4
        },
        {
            "id": "C-073",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-074",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-075",
            "uplift_score": -0.9985,
            "uplift_decile": 1
        },
        {
            "id": "C-076",
            "uplift_score": 0.1182,
            "uplift_decile": 5
        },
        {
            "id": "C-077",
            "uplift_score": 0.9991,
            "uplift_decile": 7
        },
        {
            "id": "C-078",
            "uplift_score": 0.0018,
            "uplift_decile": 4
        },
        {
            "id": "C-079",
            "uplift_score": -0.82,
            "uplift_decile": 2
        },
        {
            "id": "C-080",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-081",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-082",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-083",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-084",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-085",
            "uplift_score": -0.9983,
            "uplift_decile": 1
        },
        {
            "id": "C-086",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-087",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-088",
            "uplift_score": 0.0017,
            "uplift_decile": 4
        },
        {
            "id": "C-089",
            "uplift_score": -0.0026,
            "uplift_decile": 2
        },
        {
            "id": "C-090",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-091",
            "uplift_score": 0.0017,
            "uplift_decile": 4
        },
        {
            "id": "C-092",
            "uplift_score": 0.0026,
            "uplift_decile": 5
        },
        {
            "id": "C-093",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-094",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-095",
            "uplift_score": -0.9985,
            "uplift_decile": 1
        },
        {
            "id": "C-096",
            "uplift_score": 0.1182,
            "uplift_decile": 5
        },
        {
            "id": "C-097",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-098",
            "uplift_score": 0.0025,
            "uplift_decile": 4
        },
        {
            "id": "C-099",
            "uplift_score": -0.9983,
            "uplift_decile": 1
        },
        {
            "id": "C-100",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-101",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-102",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-103",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-104",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-105",
            "uplift_score": -0.999,
            "uplift_decile": 1
        },
        {
            "id": "C-106",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-107",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-108",
            "uplift_score": 0.0015,
            "uplift_decile": 3
        },
        {
            "id": "C-109",
            "uplift_score": -0.0027,
            "uplift_decile": 2
        },
        {
            "id": "C-110",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-111",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-112",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-113",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-114",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-115",
            "uplift_score": -0.0001,
            "uplift_decile": 2
        },
        {
            "id": "C-116",
            "uplift_score": -0.999,
            "uplift_decile": 1
        },
        {
            "id": "C-117",
            "uplift_score": 0.9912,
            "uplift_decile": 5
        },
        {
            "id": "C-118",
            "uplift_score": 0.9984,
            "uplift_decile": 7
        },
        {
            "id": "C-119",
            "uplift_score": 0.9999,
            "uplift_decile": 10
        },
        {
            "id": "C-120",
            "uplift_score": 0.9984,
            "uplift_decile": 7
        },
        {
            "id": "C-121",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-122",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-123",
            "uplift_score": 0.9913,
            "uplift_decile": 6
        },
        {
            "id": "C-124",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-125",
            "uplift_score": -0.9972,
            "uplift_decile": 2
        },
        {
            "id": "C-126",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-127",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-128",
            "uplift_score": 0.0014,
            "uplift_decile": 3
        },
        {
            "id": "C-129",
            "uplift_score": -0.0026,
            "uplift_decile": 2
        },
        {
            "id": "C-130",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-131",
            "uplift_score": 0.0017,
            "uplift_decile": 4
        },
        {
            "id": "C-132",
            "uplift_score": 0.0015,
            "uplift_decile": 4
        },
        {
            "id": "C-133",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-134",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-135",
            "uplift_score": -0.9985,
            "uplift_decile": 1
        },
        {
            "id": "C-136",
            "uplift_score": 0.1182,
            "uplift_decile": 5
        },
        {
            "id": "C-137",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-138",
            "uplift_score": 0.0025,
            "uplift_decile": 4
        },
        {
            "id": "C-139",
            "uplift_score": -0.9983,
            "uplift_decile": 1
        },
        {
            "id": "C-140",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-141",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-142",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-143",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-144",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-145",
            "uplift_score": -0.999,
            "uplift_decile": 1
        },
        {
            "id": "C-146",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-147",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-148",
            "uplift_score": 0.0015,
            "uplift_decile": 3
        },
        {
            "id": "C-149",
            "uplift_score": -0.0027,
            "uplift_decile": 2
        },
        {
            "id": "C-150",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-151",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-152",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-153",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-154",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-155",
            "uplift_score": -0.0001,
            "uplift_decile": 2
        },
        {
            "id": "C-156",
            "uplift_score": -0.999,
            "uplift_decile": 1
        },
        {
            "id": "C-157",
            "uplift_score": 0.9912,
            "uplift_decile": 5
        },
        {
            "id": "C-158",
            "uplift_score": 0.9984,
            "uplift_decile": 7
        },
        {
            "id": "C-159",
            "uplift_score": 0.9999,
            "uplift_decile": 10
        },
        {
            "id": "C-160",
            "uplift_score": 0.9984,
            "uplift_decile": 7
        },
        {
            "id": "C-161",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-162",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-163",
            "uplift_score": 0.9913,
            "uplift_decile": 6
        },
        {
            "id": "C-164",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-165",
            "uplift_score": -0.9972,
            "uplift_decile": 2
        },
        {
            "id": "C-166",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-167",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-168",
            "uplift_score": 0.0014,
            "uplift_decile": 3
        },
        {
            "id": "C-169",
            "uplift_score": -0.0026,
            "uplift_decile": 2
        },
        {
            "id": "C-170",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-171",
            "uplift_score": 0.0017,
            "uplift_decile": 4
        },
        {
            "id": "C-172",
            "uplift_score": 0.0015,
            "uplift_decile": 4
        },
        {
            "id": "C-173",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-174",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-175",
            "uplift_score": -0.9985,
            "uplift_decile": 1
        },
        {
            "id": "C-176",
            "uplift_score": 0.1182,
            "uplift_decile": 5
        },
        {
            "id": "C-177",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-178",
            "uplift_score": 0.0025,
            "uplift_decile": 4
        },
        {
            "id": "C-179",
            "uplift_score": -0.9983,
            "uplift_decile": 1
        },
        {
            "id": "C-180",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-181",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-182",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-183",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-184",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-185",
            "uplift_score": -0.999,
            "uplift_decile": 1
        },
        {
            "id": "C-186",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-187",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-188",
            "uplift_score": 0.0015,
            "uplift_decile": 3
        },
        {
            "id": "C-189",
            "uplift_score": -0.0027,
            "uplift_decile": 2
        },
        {
            "id": "C-190",
            "uplift_score": 0.999,
            "uplift_decile": 7
        },
        {
            "id": "C-191",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-192",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-193",
            "uplift_score": 0.9973,
            "uplift_decile": 6
        },
        {
            "id": "C-194",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-195",
            "uplift_score": -0.0001,
            "uplift_decile": 2
        },
        {
            "id": "C-196",
            "uplift_score": -0.999,
            "uplift_decile": 1
        },
        {
            "id": "C-197",
            "uplift_score": 0.9912,
            "uplift_decile": 5
        },
        {
            "id": "C-198",
            "uplift_score": 0.9984,
            "uplift_decile": 7
        },
        {
            "id": "C-199",
            "uplift_score": 0.9999,
            "uplift_decile": 10
        },
        {
            "id": "C-200",
            "uplift_score": 0.9984,
            "uplift_decile": 7
        },
        {
            "id": "C-201",
            "uplift_score": 0.0,
            "uplift_decile": 3
        },
        {
            "id": "C-202",
            "uplift_score": 0.9998,
            "uplift_decile": 9
        },
        {
            "id": "C-203",
            "uplift_score": 0.9913,
            "uplift_decile": 6
        },
        {
            "id": "C-204",
            "uplift_score": 0.9992,
            "uplift_decile": 8
        },
        {
            "id": "C-205",
            "uplift_score": -0.9983,
            "uplift_decile": 1
        },
        {
            "id": "C-206",
            "uplift_score": 0.9998,
            "uplift_decile": 10
        },
        {
            "id": "C-207",
            "uplift_score": 0.0028,
            "uplift_decile": 5
        },
        {
            "id": "C-208",
            "uplift_score": 0.0014,
            "uplift_decile": 3
        },
        {
            "id": "C-209",
            "uplift_score": -0.0026,
            "uplift_decile": 2
        },
        {
            "id": "C-210",
            "uplift_score": 0.999,
            "uplift_decile": 7
        }
    ],
    "interpretation": "Treatment group converted at 63.81% vs control 25.71% (ATE +0.386).  **Decile 10** contains 21 customers with mean uplift +1.000, representing â‰ˆ 21.0 additional conversions if fully targeted.  **Decile 1**â€™s mean uplift is -0.999 â€” ideal as a hold-out or cost-control segment."
}
```

---

### Path

| Path                       | Meaning                      | How to act                                   |
| -------------------------- | ---------------------------- | -------------------------------------------- |
| average_treatment_effect   | Global incremental lift.     | > 0 â†’ campaign works; < 0 â†’ re-think.        |
| decile_summary[]           | Mean uplift by 10 % buckets. | Target deciles 8-10, test 5-7, suppress 1-2. |
| details[]                  | Per-customer score & bucket. | Feed top deciles into ESP / CRM segment.     |

---

### Activation Recipes

| Goal                   | Playbook                                                      | KPI impact                    |
| ---------------------- | ------------------------------------------------------------- | ----------------------------- |
| Email blast cost-cut   | Send only deciles 8-10; keep 3-4 for future; never email 1-2. | â€“35 % send cost, flat orders  |
| Personalised discounts | Give 10 % off to decile 10, 5 % to 8-9, none to others.       | Same revenue, half promo cost |
| A/B hold-out           | Use decile 1 as natural control in follow-up experiment.      | Robust incrementality proof   |

---

### Engineering Tips

* Cold-start customers â€“ set treatment=0, outcome=0, include features; theyâ€™ll still be scored via model priors.

* Categorical explosions â€“ cap rare categories (< 100 rows) into â€œOtherâ€ to keep trees shallow.

* Feature drift â€“ if â‰¥ 2 categorical values disappear for > 30 days, re-train.

* Minimum decile size â€“ endpoint enforces â‰¥ 15 rows; else merges neighbouring buckets.

* Storing scores â€“ upsert uplift_decile column in your CDP for fast audience builds.

---

### PrÃ³ximo Paso
Run a one-off call on last campaignâ€™s data, export the top two uplift deciles, and launch a 72-h retargeting email. Measure incremental revenue v. hold-out â€“ most clients break even in the first blast.

---

