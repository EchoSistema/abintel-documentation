# 4.5.3 /api/v1/ai/channel_attribution

**Causal lift per marketing channel**

---

### Purpose  
Pinpoint which channels truly move the conversion needle instead of relying on last-click folklore.

---

### Headers `X-Customer-Api-Id`, `X-Secret`

```yml
POST https://api.abintel.ai/api/v1/ai/channel_attribution
headers:
X-Customer-Api-Id: <uuid>
X-Secret: <secret>
Content-Type: application/json
```

---

### What the route delivers

| **Your question**                                      | **What the endpoint returns**                                                                 |
|--------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| â€œShould I pour more budget into Paid Search or Display?â€ | A ranked table of incremental lifts (`incremental_lift`) for every channel.                 |
| â€œHow many touches did we actually analyse?â€            | `n_events` per channel plus an overall AUC if a logistic fallback was used.                  |
| â€œIs the estimate statistically sound?â€                 | The service refuses runs with `< min_events` rows; otherwise it reports the global AUC or, when `doubleml` is available, full Double-ML diagnostics are placed in the job log. |

---

## Request payload reference

| **Path**     | **Type**             | **Required** | **Notes**                                                                                     |
|--------------|----------------------|--------------|-----------------------------------------------------------------------------------------------|
| `min_events` | integer              | âœ–ï¸           | Default 200. Guard-rail for accidental under-sampling.                                       |
| `touches[]`  | array <object>       | âœ”ï¸           | â‰¥ 200 recommended. Each object is a touch-point.                                             |
| â†³ `user_id`  | string               | âœ”ï¸           | Same user can appear multiple times; every row for that user must carry the same `converted` value. |
| â†³ `channel`  | string               | âœ”ï¸           | Case-sensitive label; the response echoes it verbatim.                                       |
| â†³ `timestamp`| string               | âœ”ï¸           | ISO-8601 UTC. Only kept for audit â€” model ignores order unless encoded via features.         |
| â†³ `converted`| 0 / 1                | âœ”ï¸           | 1 if the user ultimately converted.                                                           |
| â†³ `features` | object               | âœ–ï¸           | Arbitrary numeric / categorical keys, automatically one-hot encoded. Use for device, geo, creative, etc. |

 **Hint**â€‚If you need sequence effects, pre-compute features like `touch_order` or `days_since_first_touch` and pass them here.

---

### Request

```json
{
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  ğŸ“ˆ  CHANNEL-LEVEL INCREMENTAL LIFT  â€“  POST  /api/channel_attribution
  //  ---------------------------------------------------------------------------
  //  What this route does
  //  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  â€¢ Ingests *touch-point* data â€“ one JSON object per marketing interaction
  //    (e-mail open, paid-search click, display impression, etc.).
  //  â€¢ Calculates the **incremental contribution** (causal lift) of every channel
  //    to the final conversion, instead of naÃ¯ve last-/first-touch or raw C-rate.
  //  â€¢ Needs at least `min_events` (>â‰ˆ200) rows for a stable estimate.
  //  â€¢ Internals:
  //        â€“ If the Python package **doubleml** is installed, the endpoint runs a
  //          Double-Machine-Learning (DML-PLR) estimator that partials out all
  //          feature confounders to return per-channel Average Treatment Effects.
  //        â€“ Otherwise, it falls back to a regularised logistic-regression baseline
  //          whose coefficients act as *pseudo-lifts* and also reports global AUC.
  //
  //  Field-by-field specification
  //  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  â€¢ min_events   (integer) :   Minimum #events you allow; defaults to **200**.
  //
  //  â€¢ touches[] (array)      :   Each object **must** contain:
  //        â€“ user_id   (string)  : Consistent identifier; the same user can emit
  //                                multiple touches on different channels.
  //        â€“ channel   (string)  : Channel label â€“ *case-sensitive*; the lift
  //                                table shows these exactly as provided.
  //        â€“ timestamp (string)  : ISO-8601 datetime in UTC (e.g.
  //                                â€œ2025-04-01T09:12:00Zâ€).  Only for auditing;
  //                                the model ignores order unless you encode it
  //                                yourself via features.
  //        â€“ converted (0 | 1)   : 1 if that **user** eventually converted,
  //                                otherwise 0.  All rows for the same user
  //                                carry the same value.
  //        â€“ features (object)   : *(optional)* arbitrary per-event or
  //                                per-user attributes.  Both numeric and
  //                                categorical keys allowed; the API handles
  //                                one-hot-encoding automatically.
  //
  //  Typical interpretation of the response
  //  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  //  The endpoint returns an array `contributions[]`, sorted by
  //  `incremental_lift` (ATE) plus helper columns:
  //        â€¢ n_events   â€“ how many touches came from that channel
  //        â€¢ raw_cr     â€“ naÃ¯ve conversion-rate for that channel
  //        â€¢ incremental_lift â€“ *causal* (or pseudo-causal) lift
  //        â€¢ description â€“ quick qualitative tag:
  //              â†— strong driver   /  neutral  /  â†˜ drag on conversions
  //
  //  Channels tagged â€œâ†— strong driverâ€ deserve more budget; â€œâ†˜ dragâ€ may warrant
  //  creative tweaks or re-allocation.
  //
  //  ---------------------------------------------------------------------------
  //  â†“  Replace the stub below with â‰¥200 real rows before hitting â€œSendâ€
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  "min_events": 200,
  "touches": [
    {
      "user_id": "U-000",
      "channel": "display",
      "timestamp": "2025-04-01T09:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-000",
      "channel": "social",
      "timestamp": "2025-04-01T09:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 1
    },
    {
      "user_id": "U-000",
      "channel": "social",
      "timestamp": "2025-04-01T10:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 1
    },
    {
      "user_id": "U-000",
      "channel": "social",
      "timestamp": "2025-04-01T10:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-000",
      "channel": "social",
      "timestamp": "2025-04-01T11:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-001",
      "channel": "email",
      "timestamp": "2025-04-01T11:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-001",
      "channel": "email",
      "timestamp": "2025-04-01T12:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-001",
      "channel": "paid_search",
      "timestamp": "2025-04-01T12:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-001",
      "channel": "email",
      "timestamp": "2025-04-01T13:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-001",
      "channel": "social",
      "timestamp": "2025-04-01T13:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-002",
      "channel": "display",
      "timestamp": "2025-04-01T14:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-002",
      "channel": "display",
      "timestamp": "2025-04-01T14:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-002",
      "channel": "email",
      "timestamp": "2025-04-01T15:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-002",
      "channel": "email",
      "timestamp": "2025-04-01T15:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-002",
      "channel": "social",
      "timestamp": "2025-04-01T16:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-003",
      "channel": "display",
      "timestamp": "2025-04-01T16:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-003",
      "channel": "email",
      "timestamp": "2025-04-01T17:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-003",
      "channel": "social",
      "timestamp": "2025-04-01T17:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-003",
      "channel": "social",
      "timestamp": "2025-04-01T18:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-003",
      "channel": "display",
      "timestamp": "2025-04-01T18:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-004",
      "channel": "paid_search",
      "timestamp": "2025-04-01T19:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-004",
      "channel": "display",
      "timestamp": "2025-04-01T19:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-004",
      "channel": "social",
      "timestamp": "2025-04-01T20:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-004",
      "channel": "display",
      "timestamp": "2025-04-01T20:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-004",
      "channel": "social",
      "timestamp": "2025-04-01T21:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-005",
      "channel": "display",
      "timestamp": "2025-04-01T21:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 1
    },
    {
      "user_id": "U-005",
      "channel": "social",
      "timestamp": "2025-04-01T22:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-005",
      "channel": "paid_search",
      "timestamp": "2025-04-01T22:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-005",
      "channel": "display",
      "timestamp": "2025-04-01T23:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 1
    },
    {
      "user_id": "U-005",
      "channel": "display",
      "timestamp": "2025-04-01T23:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-006",
      "channel": "email",
      "timestamp": "2025-04-02T00:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-006",
      "channel": "paid_search",
      "timestamp": "2025-04-02T00:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-006",
      "channel": "paid_search",
      "timestamp": "2025-04-02T01:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-006",
      "channel": "display",
      "timestamp": "2025-04-02T01:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-006",
      "channel": "display",
      "timestamp": "2025-04-02T02:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-007",
      "channel": "display",
      "timestamp": "2025-04-02T02:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-007",
      "channel": "display",
      "timestamp": "2025-04-02T03:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-007",
      "channel": "display",
      "timestamp": "2025-04-02T03:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-007",
      "channel": "social",
      "timestamp": "2025-04-02T04:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-007",
      "channel": "email",
      "timestamp": "2025-04-02T04:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 1
    },
    {
      "user_id": "U-008",
      "channel": "paid_search",
      "timestamp": "2025-04-02T05:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-008",
      "channel": "display",
      "timestamp": "2025-04-02T05:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 1
    },
    {
      "user_id": "U-008",
      "channel": "paid_search",
      "timestamp": "2025-04-02T06:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-008",
      "channel": "social",
      "timestamp": "2025-04-02T06:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-008",
      "channel": "social",
      "timestamp": "2025-04-02T07:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-009",
      "channel": "paid_search",
      "timestamp": "2025-04-02T07:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-009",
      "channel": "display",
      "timestamp": "2025-04-02T08:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-009",
      "channel": "paid_search",
      "timestamp": "2025-04-02T08:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-009",
      "channel": "display",
      "timestamp": "2025-04-02T09:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-009",
      "channel": "social",
      "timestamp": "2025-04-02T09:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-010",
      "channel": "display",
      "timestamp": "2025-04-02T10:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-010",
      "channel": "display",
      "timestamp": "2025-04-02T10:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-010",
      "channel": "social",
      "timestamp": "2025-04-02T11:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-010",
      "channel": "paid_search",
      "timestamp": "2025-04-02T11:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-010",
      "channel": "paid_search",
      "timestamp": "2025-04-02T12:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-011",
      "channel": "social",
      "timestamp": "2025-04-02T12:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-011",
      "channel": "social",
      "timestamp": "2025-04-02T13:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-011",
      "channel": "social",
      "timestamp": "2025-04-02T13:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-011",
      "channel": "paid_search",
      "timestamp": "2025-04-02T14:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-011",
      "channel": "display",
      "timestamp": "2025-04-02T14:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-012",
      "channel": "paid_search",
      "timestamp": "2025-04-02T15:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-012",
      "channel": "paid_search",
      "timestamp": "2025-04-02T15:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-012",
      "channel": "paid_search",
      "timestamp": "2025-04-02T16:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-012",
      "channel": "social",
      "timestamp": "2025-04-02T16:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-012",
      "channel": "paid_search",
      "timestamp": "2025-04-02T17:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-013",
      "channel": "display",
      "timestamp": "2025-04-02T17:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-013",
      "channel": "paid_search",
      "timestamp": "2025-04-02T18:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-013",
      "channel": "email",
      "timestamp": "2025-04-02T18:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-013",
      "channel": "paid_search",
      "timestamp": "2025-04-02T19:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-013",
      "channel": "social",
      "timestamp": "2025-04-02T19:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-014",
      "channel": "email",
      "timestamp": "2025-04-02T20:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-014",
      "channel": "display",
      "timestamp": "2025-04-02T20:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-014",
      "channel": "paid_search",
      "timestamp": "2025-04-02T21:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-014",
      "channel": "display",
      "timestamp": "2025-04-02T21:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-014",
      "channel": "paid_search",
      "timestamp": "2025-04-02T22:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-015",
      "channel": "social",
      "timestamp": "2025-04-02T22:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-015",
      "channel": "paid_search",
      "timestamp": "2025-04-02T23:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-015",
      "channel": "display",
      "timestamp": "2025-04-02T23:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-015",
      "channel": "display",
      "timestamp": "2025-04-03T00:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-015",
      "channel": "paid_search",
      "timestamp": "2025-04-03T00:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-016",
      "channel": "email",
      "timestamp": "2025-04-03T01:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 1
    },
    {
      "user_id": "U-016",
      "channel": "paid_search",
      "timestamp": "2025-04-03T01:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-016",
      "channel": "email",
      "timestamp": "2025-04-03T02:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-016",
      "channel": "paid_search",
      "timestamp": "2025-04-03T02:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 1
    },
    {
      "user_id": "U-016",
      "channel": "email",
      "timestamp": "2025-04-03T03:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-017",
      "channel": "email",
      "timestamp": "2025-04-03T03:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-017",
      "channel": "paid_search",
      "timestamp": "2025-04-03T04:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-017",
      "channel": "paid_search",
      "timestamp": "2025-04-03T04:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-017",
      "channel": "display",
      "timestamp": "2025-04-03T05:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-017",
      "channel": "display",
      "timestamp": "2025-04-03T05:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-018",
      "channel": "social",
      "timestamp": "2025-04-03T06:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-018",
      "channel": "display",
      "timestamp": "2025-04-03T06:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-018",
      "channel": "email",
      "timestamp": "2025-04-03T07:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-018",
      "channel": "display",
      "timestamp": "2025-04-03T07:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-018",
      "channel": "display",
      "timestamp": "2025-04-03T08:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 1
    },
    {
      "user_id": "U-019",
      "channel": "paid_search",
      "timestamp": "2025-04-03T08:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-019",
      "channel": "display",
      "timestamp": "2025-04-03T09:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-019",
      "channel": "paid_search",
      "timestamp": "2025-04-03T09:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-019",
      "channel": "paid_search",
      "timestamp": "2025-04-03T10:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-019",
      "channel": "display",
      "timestamp": "2025-04-03T10:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-020",
      "channel": "display",
      "timestamp": "2025-04-03T11:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-020",
      "channel": "display",
      "timestamp": "2025-04-03T11:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-020",
      "channel": "display",
      "timestamp": "2025-04-03T12:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-020",
      "channel": "display",
      "timestamp": "2025-04-03T12:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-020",
      "channel": "email",
      "timestamp": "2025-04-03T13:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 1
    },
    {
      "user_id": "U-021",
      "channel": "email",
      "timestamp": "2025-04-03T13:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-021",
      "channel": "social",
      "timestamp": "2025-04-03T14:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-021",
      "channel": "email",
      "timestamp": "2025-04-03T14:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-021",
      "channel": "display",
      "timestamp": "2025-04-03T15:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-021",
      "channel": "display",
      "timestamp": "2025-04-03T15:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-022",
      "channel": "paid_search",
      "timestamp": "2025-04-03T16:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-022",
      "channel": "paid_search",
      "timestamp": "2025-04-03T16:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-022",
      "channel": "display",
      "timestamp": "2025-04-03T17:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-022",
      "channel": "email",
      "timestamp": "2025-04-03T17:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-022",
      "channel": "display",
      "timestamp": "2025-04-03T18:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-023",
      "channel": "social",
      "timestamp": "2025-04-03T18:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-023",
      "channel": "email",
      "timestamp": "2025-04-03T19:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-023",
      "channel": "social",
      "timestamp": "2025-04-03T19:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-023",
      "channel": "paid_search",
      "timestamp": "2025-04-03T20:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-023",
      "channel": "social",
      "timestamp": "2025-04-03T20:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-024",
      "channel": "email",
      "timestamp": "2025-04-03T21:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-024",
      "channel": "paid_search",
      "timestamp": "2025-04-03T21:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-024",
      "channel": "email",
      "timestamp": "2025-04-03T22:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-024",
      "channel": "display",
      "timestamp": "2025-04-03T22:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-024",
      "channel": "social",
      "timestamp": "2025-04-03T23:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-025",
      "channel": "social",
      "timestamp": "2025-04-03T23:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-025",
      "channel": "email",
      "timestamp": "2025-04-04T00:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-025",
      "channel": "paid_search",
      "timestamp": "2025-04-04T00:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-025",
      "channel": "email",
      "timestamp": "2025-04-04T01:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-025",
      "channel": "email",
      "timestamp": "2025-04-04T01:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-026",
      "channel": "paid_search",
      "timestamp": "2025-04-04T02:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-026",
      "channel": "display",
      "timestamp": "2025-04-04T02:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-026",
      "channel": "social",
      "timestamp": "2025-04-04T03:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-026",
      "channel": "display",
      "timestamp": "2025-04-04T03:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-026",
      "channel": "display",
      "timestamp": "2025-04-04T04:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-027",
      "channel": "paid_search",
      "timestamp": "2025-04-04T04:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-027",
      "channel": "paid_search",
      "timestamp": "2025-04-04T05:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-027",
      "channel": "email",
      "timestamp": "2025-04-04T05:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-027",
      "channel": "social",
      "timestamp": "2025-04-04T06:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-027",
      "channel": "paid_search",
      "timestamp": "2025-04-04T06:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-028",
      "channel": "email",
      "timestamp": "2025-04-04T07:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-028",
      "channel": "display",
      "timestamp": "2025-04-04T07:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-028",
      "channel": "email",
      "timestamp": "2025-04-04T08:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-028",
      "channel": "email",
      "timestamp": "2025-04-04T08:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-028",
      "channel": "social",
      "timestamp": "2025-04-04T09:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 1
    },
    {
      "user_id": "U-029",
      "channel": "social",
      "timestamp": "2025-04-04T09:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-029",
      "channel": "paid_search",
      "timestamp": "2025-04-04T10:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-029",
      "channel": "social",
      "timestamp": "2025-04-04T10:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-029",
      "channel": "display",
      "timestamp": "2025-04-04T11:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-029",
      "channel": "social",
      "timestamp": "2025-04-04T11:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-030",
      "channel": "paid_search",
      "timestamp": "2025-04-04T12:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-030",
      "channel": "paid_search",
      "timestamp": "2025-04-04T12:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-030",
      "channel": "email",
      "timestamp": "2025-04-04T13:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-030",
      "channel": "paid_search",
      "timestamp": "2025-04-04T13:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-030",
      "channel": "display",
      "timestamp": "2025-04-04T14:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-031",
      "channel": "social",
      "timestamp": "2025-04-04T14:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-031",
      "channel": "display",
      "timestamp": "2025-04-04T15:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-031",
      "channel": "social",
      "timestamp": "2025-04-04T15:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-031",
      "channel": "paid_search",
      "timestamp": "2025-04-04T16:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-031",
      "channel": "social",
      "timestamp": "2025-04-04T16:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-032",
      "channel": "social",
      "timestamp": "2025-04-04T17:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-032",
      "channel": "display",
      "timestamp": "2025-04-04T17:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-032",
      "channel": "social",
      "timestamp": "2025-04-04T18:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-032",
      "channel": "paid_search",
      "timestamp": "2025-04-04T18:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-032",
      "channel": "social",
      "timestamp": "2025-04-04T19:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-033",
      "channel": "display",
      "timestamp": "2025-04-04T19:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-033",
      "channel": "social",
      "timestamp": "2025-04-04T20:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-033",
      "channel": "paid_search",
      "timestamp": "2025-04-04T20:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-033",
      "channel": "email",
      "timestamp": "2025-04-04T21:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-033",
      "channel": "paid_search",
      "timestamp": "2025-04-04T21:30:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 1
    },
    {
      "user_id": "U-034",
      "channel": "social",
      "timestamp": "2025-04-04T22:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-034",
      "channel": "email",
      "timestamp": "2025-04-04T22:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-034",
      "channel": "social",
      "timestamp": "2025-04-04T23:00:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-034",
      "channel": "email",
      "timestamp": "2025-04-04T23:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-034",
      "channel": "display",
      "timestamp": "2025-04-05T00:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-035",
      "channel": "paid_search",
      "timestamp": "2025-04-05T00:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-035",
      "channel": "display",
      "timestamp": "2025-04-05T01:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-035",
      "channel": "paid_search",
      "timestamp": "2025-04-05T01:30:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-035",
      "channel": "display",
      "timestamp": "2025-04-05T02:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-035",
      "channel": "paid_search",
      "timestamp": "2025-04-05T02:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 1
    },
    {
      "user_id": "U-036",
      "channel": "display",
      "timestamp": "2025-04-05T03:00:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-036",
      "channel": "paid_search",
      "timestamp": "2025-04-05T03:30:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-036",
      "channel": "display",
      "timestamp": "2025-04-05T04:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-036",
      "channel": "display",
      "timestamp": "2025-04-05T04:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-036",
      "channel": "social",
      "timestamp": "2025-04-05T05:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-037",
      "channel": "email",
      "timestamp": "2025-04-05T05:30:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-037",
      "channel": "social",
      "timestamp": "2025-04-05T06:00:00Z",
      "features": {
        "device": "mobile",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-037",
      "channel": "social",
      "timestamp": "2025-04-05T06:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-037",
      "channel": "social",
      "timestamp": "2025-04-05T07:00:00Z",
      "features": {
        "device": "mobile",
        "country": "UK"
      },
      "converted": 0
    },
    {
      "user_id": "U-037",
      "channel": "social",
      "timestamp": "2025-04-05T07:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-038",
      "channel": "paid_search",
      "timestamp": "2025-04-05T08:00:00Z",
      "features": {
        "device": "desktop",
        "country": "UK"
      },
      "converted": 1
    },
    {
      "user_id": "U-038",
      "channel": "social",
      "timestamp": "2025-04-05T08:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-038",
      "channel": "paid_search",
      "timestamp": "2025-04-05T09:00:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-038",
      "channel": "paid_search",
      "timestamp": "2025-04-05T09:30:00Z",
      "features": {
        "device": "mobile",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-038",
      "channel": "social",
      "timestamp": "2025-04-05T10:00:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-039",
      "channel": "email",
      "timestamp": "2025-04-05T10:30:00Z",
      "features": {
        "device": "desktop",
        "country": "CA"
      },
      "converted": 0
    },
    {
      "user_id": "U-039",
      "channel": "email",
      "timestamp": "2025-04-05T11:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-039",
      "channel": "email",
      "timestamp": "2025-04-05T11:30:00Z",
      "features": {
        "device": "desktop",
        "country": "US"
      },
      "converted": 0
    },
    {
      "user_id": "U-039",
      "channel": "email",
      "timestamp": "2025-04-05T12:00:00Z",
      "features": {
        "device": "desktop",
        "country": "BR"
      },
      "converted": 0
    },
    {
      "user_id": "U-039",
      "channel": "email",
      "timestamp": "2025-04-05T12:30:00Z",
      "features": {
        "device": "mobile",
        "country": "CA"
      },
      "converted": 0
    }
  ]
}
```

---

### Response

```json
{
    "contributions": [
        {
            "channel": "paid_search",
            "n_events": 53,
            "raw_cr": 0.283,
            "incremental_lift": 0.632,
            "description": "â†— strong driver"
        },
        {
            "channel": "social",
            "n_events": 51,
            "raw_cr": 0.1569,
            "incremental_lift": -0.0257,
            "description": "neutral / needs test"
        },
        {
            "channel": "email",
            "n_events": 39,
            "raw_cr": 0.1282,
            "incremental_lift": -0.1928,
            "description": "â†˜ drag on conversions"
        },
        {
            "channel": "display",
            "n_events": 57,
            "raw_cr": 0.1053,
            "incremental_lift": -0.4127,
            "description": "â†˜ drag on conversions"
        }
    ],
    "global_auc": 0.6589,
    "interpretation": "Regularised logistic regression (AUC=0.659) suggests **paid_search** delivers the largest incremental lift (++0.632) across 53 touches (raw CR 28.30%). Conversely, **display** under-performs (-0.413).  Re-allocate budget accordingly."
}
```

---

### Field semantics
 
| Field              | Meaning                                                                                                                                                          |
|------------------- |----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `raw_cr`           | Straight conversion-rate = (converted users with â‰¥1 touch in channel) / (all users touched by channel).                                                          |
| `incremental_lift` | Estimated average treatment effect for the channel after controlling for all supplied features. Positive â†’ channel adds conversions, negative â†’ it cannibalises. |
| `description`      | Quick triage tag:  
|â€ƒ                   |                                                                                                                             â†— strong driver (lift > +0.15)  
|â€ƒ                   |                                                                                                                      neutral / needs test (-0.15 â‰¤ lift â‰¤ +0.15)  
|â€ƒ                   |                                                                                                                             â†˜ drag on conversions (lift < -0.15) |

---

### Under the hood

- **Feature engineering** â€“ categorical keys â†’ one-hot; numeric passed as is.  
- **Estimator choice**  
- If `doubleml` available â†’ DML-PLR (causal) with cross-fitted learners.  
- Otherwise â†’ elastic-net logistic regression; coefficients are used as quasi-lifts, AUC reported.  
- **Per-channel ATE** â€“ average marginal effect of flipping each channel flag from 0 â†’ 1 while holding confounders fixed.  
- **Descriptions** â€“ heuristic thresholds map lift values to ğŸ“ˆ / âš–ï¸ / ğŸ“‰ tags.

---

## Practical workflow

| Step                  | Action                                                                                                                                |
|---------------------- |-------------------------------------------------------------------------------------------------------------------------------------- |
| Collect touches       | Export a week or month of unified touch-point logs from your CDP or analytics stack.                                                  |
| POST to this endpoint | Make sure the payload clears `min_events`.                                                                                            |
| Read the lift table   | Channels marked â†˜ drag are candidates for creative refresh or budget cuts; â†— strong driver ones merit more spend or experimentation. |
| Iterate               | Re-run after major campaign changes and compare `incremental_lift` deltas over time.                                                  |

---

