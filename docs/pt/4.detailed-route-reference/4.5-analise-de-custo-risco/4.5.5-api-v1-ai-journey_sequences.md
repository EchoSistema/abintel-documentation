# 4.5.5 /api/v1/ai/journey_sequences
+> Nota: tradução gerada automaticamente a partir do inglês; revise antes de publicar.


**Mine the highest-volume paths through any digital funnel**

---

### Objetivo
Find every frequent sequential pattern – the journeys your visitors actually take – with straight-forward support/length controls.

---

### Headers `X-Customer-Api-Id`, `X-Secret`

```yml
POST https://api.abintel.ai/api/v1/ai/journey_sequences
headers:
X-Customer-Api-Id: <uuid>
X-Secret: <secret>
Content-Type: application/json
```

---

### When to use it

| **Question**                                                  | **What the route gives you**                                                   |
|-------------------------------------------------------------- |--------------------------------------------------------------------------------|
| “Which chains of screens appear most often?”                  | `frequent_paths` sorted by raw support.                                        |
| “Do visitors who start on Category differ from Search users?” | Mine separately per cohort, then compare patterns.                             |
| “What prefixes justify personalising the next suggestion?”    | Limit `max_len` to the number of steps you can react to.                       |

---

## Request payload reference

| **Path**      | **Type**         | **Required** | **Details**                                                                 |
|---------------|----------------- |--------------|-----------------------------------------------------------------------------|
| `min_support` | integer          | ✔︎           | Minimum absolute occurrences for a path to qualify.                         |
| `max_len`     | integer          | ✔︎           | Longest prefix the miner will return (to avoid combinatorial blow-up).     |
| `sessions[]`  | array<object>    | ✔︎           | One object per browsing / purchase session.                                |
| ↳ `session_id`| string           | ✔︎           | Only for tracebacks – not used in pattern mining.                          |
| ↳ `user_id`   | string           | optional     | Present if you later de-duplicate across devices.                          |
| ↳ `steps[]`   | array<string>    | ✔︎           | Ordered list of unique page / event labels.                                |
| ↳ `converted` | 0 \| 1           | optional     | Not consumed by the algorithm – but handy for downstream slicing.          |

 **Tip** Set `min_support` as a count, not a percentage – keeps intent crystal clear for stakeholders.

---

### Requisição

```json
// ───────────────────────────  POST  /api/journey_sequences  ───────────────────────────
//  Synthetic dataset – 200 browsing / purchase sessions
//  • min_support = 30   (every frequent-pattern we care about appears ≥30×)
//  • max_len     = 4    (longest prefix mined by the route)
//  ──────────────────────────────────────────────────────────────────────────────────────
//  Legend of common paths in this sample
//      A. Home  → Category → PDP → Cart → Conversion              (60×)
//      B. Home  → Search   → PDP → Cart → Conversion              (40×)
//      C. Home  → Category                                          (30×)  drop-off
//      D. Home  → Search   → PDP                                    (30×)  drop-off
//      E. Home                                                      (20×)  bounce
//      F. Home  → Promo    → PDP → Cart → Conversion               (20×)
//  This gives:
//      • 120 converted sessions  (A+B+F)
//      • 80 non-converted sessions (C+D+E)
//  Use it “as-is”: paste into Postman and call  /api/journey_sequences
{
  "min_support": 30,
  "max_len": 4,
  "sessions": [
    // ── 60 × Path A ───────────────────────────────────────────────
    { "session_id": "S-001", "user_id": "U-001", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-002", "user_id": "U-002", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-003", "user_id": "U-003", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-004", "user_id": "U-004", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-005", "user_id": "U-005", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-006", "user_id": "U-006", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-007", "user_id": "U-007", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-008", "user_id": "U-008", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-009", "user_id": "U-009", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-010", "user_id": "U-010", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-011", "user_id": "U-011", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-012", "user_id": "U-012", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-013", "user_id": "U-013", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-014", "user_id": "U-014", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-015", "user_id": "U-015", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-016", "user_id": "U-016", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-017", "user_id": "U-017", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-018", "user_id": "U-018", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-019", "user_id": "U-019", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-020", "user_id": "U-020", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-021", "user_id": "U-021", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-022", "user_id": "U-022", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-023", "user_id": "U-023", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-024", "user_id": "U-024", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-025", "user_id": "U-025", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-026", "user_id": "U-026", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-027", "user_id": "U-027", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-028", "user_id": "U-028", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-029", "user_id": "U-029", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-030", "user_id": "U-030", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-031", "user_id": "U-031", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-032", "user_id": "U-032", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-033", "user_id": "U-033", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-034", "user_id": "U-034", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-035", "user_id": "U-035", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-036", "user_id": "U-036", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-037", "user_id": "U-037", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-038", "user_id": "U-038", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-039", "user_id": "U-039", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-040", "user_id": "U-040", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-041", "user_id": "U-041", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-042", "user_id": "U-042", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-043", "user_id": "U-043", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-044", "user_id": "U-044", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-045", "user_id": "U-045", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-046", "user_id": "U-046", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-047", "user_id": "U-047", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-048", "user_id": "U-048", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-049", "user_id": "U-049", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-050", "user_id": "U-050", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-051", "user_id": "U-051", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-052", "user_id": "U-052", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-053", "user_id": "U-053", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-054", "user_id": "U-054", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-055", "user_id": "U-055", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-056", "user_id": "U-056", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-057", "user_id": "U-057", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-058", "user_id": "U-058", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-059", "user_id": "U-059", "steps": ["Home","Category","PDP","Cart","Conversion"] },
    { "session_id": "S-060", "user_id": "U-060", "steps": ["Home","Category","PDP","Cart","Conversion"] },

    // ── 40 × Path B ───────────────────────────────────────────────
    { "session_id": "S-061", "user_id": "U-061", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-062", "user_id": "U-062", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-063", "user_id": "U-063", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-064", "user_id": "U-064", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-065", "user_id": "U-065", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-066", "user_id": "U-066", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-067", "user_id": "U-067", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-068", "user_id": "U-068", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-069", "user_id": "U-069", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-070", "user_id": "U-070", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-071", "user_id": "U-071", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-072", "user_id": "U-072", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-073", "user_id": "U-073", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-074", "user_id": "U-074", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-075", "user_id": "U-075", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-076", "user_id": "U-076", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-077", "user_id": "U-077", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-078", "user_id": "U-078", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-079", "user_id": "U-079", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-080", "user_id": "U-080", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-081", "user_id": "U-081", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-082", "user_id": "U-082", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-083", "user_id": "U-083", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-084", "user_id": "U-084", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-085", "user_id": "U-085", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-086", "user_id": "U-086", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-087", "user_id": "U-087", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-088", "user_id": "U-088", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-089", "user_id": "U-089", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-090", "user_id": "U-090", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-091", "user_id": "U-091", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-092", "user_id": "U-092", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-093", "user_id": "U-093", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-094", "user_id": "U-094", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-095", "user_id": "U-095", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-096", "user_id": "U-096", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-097", "user_id": "U-097", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-098", "user_id": "U-098", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-099", "user_id": "U-099", "steps": ["Home","Search","PDP","Cart","Conversion"] },
    { "session_id": "S-100", "user_id": "U-100", "steps": ["Home","Search","PDP","Cart","Conversion"] },

    // ── 30 × Path C (drop-off after Category) ─────────────────────
    { "session_id": "S-101", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-102", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-103", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-104", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-105", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-106", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-107", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-108", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-109", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-110", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-111", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-112", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-113", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-114", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-115", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-116", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-117", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-118", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-119", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-120", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-121", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-122", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-123", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-124", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-125", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-126", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-127", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-128", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-129", "steps": ["Home","Category"], "converted": 0 },
    { "session_id": "S-130", "steps": ["Home","Category"], "converted": 0 },

    // ── 30 × Path D (drop-off after Search & PDP) ─────────────────
    { "session_id": "S-131", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-132", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-133", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-134", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-135", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-136", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-137", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-138", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-139", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-140", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-141", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-142", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-143", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-144", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-145", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-146", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-147", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-148", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-149", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-150", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-151", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-152", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-153", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-154", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-155", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-156", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-157", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-158", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-159", "steps": ["Home","Search","PDP"], "converted": 0 },
    { "session_id": "S-160", "steps": ["Home","Search","PDP"], "converted": 0 },

    // ── 20 × Path E (single-page bounce) ──────────────────────────
    { "session_id": "S-161", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-162", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-163", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-164", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-165", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-166", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-167", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-168", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-169", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-170", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-171", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-172", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-173", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-174", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-175", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-176", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-177", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-178", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-179", "steps": ["Home"], "converted": 0 },
    { "session_id": "S-180", "steps": ["Home"], "converted": 0 },

    // ── 20 × Path F (Promo path converts) ─────────────────────────
    { "session_id": "S-181", "user_id": "U-181", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-182", "user_id": "U-182", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-183", "user_id": "U-183", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-184", "user_id": "U-184", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-185", "user_id": "U-185", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-186", "user_id": "U-186", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-187", "user_id": "U-187", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-188", "user_id": "U-188", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-189", "user_id": "U-189", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-190", "user_id": "U-190", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-191", "user_id": "U-191", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-192", "user_id": "U-192", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-193", "user_id": "U-193", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-194", "user_id": "U-194", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-195", "user_id": "U-195", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-196", "user_id": "U-196", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-197", "user_id": "U-197", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-198", "user_id": "U-198", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-199", "user_id": "U-199", "steps": ["Home","Promo","PDP","Cart","Conversion"] },
    { "session_id": "S-200", "user_id": "U-200", "steps": ["Home","Promo","PDP","Cart","Conversion"] }
  ]
}
```

---

### Resposta

```json
{
    "frequent_paths": [
        {
            "path": [
                "Home"
            ],
            "support": 200
        },
        {
            "path": [
                "Home",
                "Category"
            ],
            "support": 90
        },
        {
            "path": [
                "Home",
                "Search"
            ],
            "support": 70
        },
        {
            "path": [
                "Home",
                "Search",
                "PDP"
            ],
            "support": 70
        },
        {
            "path": [
                "Home",
                "Category",
                "PDP"
            ],
            "support": 60
        },
        {
            "path": [
                "Home",
                "Category",
                "PDP",
                "Cart"
            ],
            "support": 60
        },
        {
            "path": [
                "Home",
                "Search",
                "PDP",
                "Cart"
            ],
            "support": 40
        }
    ],
    "interpretation": "Top path **Home** occurs 200×. Use these insights for funnel personalisation & next-best-action rules."
}
```

---

### Field semantics

| **Field**          | **Meaning**                                                                                                                                                               |
|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `frequent_paths[]` | Prefix-closed patterns up to `max_len`, sorted by support (desc). Each support is the raw count of sessions containing that exact prefix, regardless of what comes later. |
| `interpretation`   | One-sentence summary calling out the #1 pattern and an optimisation nudge.                                                                                                |

---

## Under the hood

- **Prefix tree** is built from every session.  
- **Support pruning** – branches with totals < `min_support` are discarded early.  
- **Depth limit** – traversal stops at `max_len`; deeper continuations are ignored.  
- **Sorting** – surviving prefixes returned in descending support.  
- **No association** -rule lift metrics are computed – the endpoint focuses on **volume**, making results easy to present to non-technical stakeholders.

---

## Fluxo de Trabalho Típico

| **Step**                     | **Action**                                                                                                       |
|----------------------------- |------------------------------------------------------------------------------------------------------------------|
| **Snapshot recent sessions** | Decide cut-off (week, sprint, experiment).                                                                       |
| **POST payload**             | Tune `min_support` to trim noise; adjust `max_len` if you only want short prefixes for live on-site messaging.   |
| **Scan `frequent_paths`**    | Spot dominant journeys & drop-offs.                                                                              |
| **Segment**                  | Re-run filtering by `converted`, `device`, or `campaign` to uncover segment-specific flows.                      |
| **Optimise & repeat**        | Add quick links, remove friction, then mine again to track behavioural shifts.                                   |

Turn thousands of raw click-streams into a short, data-driven to-do list for your CRO and product teams.

---

